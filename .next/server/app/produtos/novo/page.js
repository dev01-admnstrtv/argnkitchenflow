(()=>{var e={};e.id=390,e.ids=[390],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},5528:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>l,routeModule:()=>m,tree:()=>u}),t(4515),t(32029),t(35866);var s=t(23191),o=t(88716),a=t(37922),n=t.n(a),i=t(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(r,d);let u=["",{children:["produtos",{children:["novo",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,4515)),"/mnt/e/Projetos/EngenhariaContextoPTbr/ArgnKitchenFlow/ArgnKitchenFlow/src/app/produtos/novo/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,32029)),"/mnt/e/Projetos/EngenhariaContextoPTbr/ArgnKitchenFlow/ArgnKitchenFlow/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],l=["/mnt/e/Projetos/EngenhariaContextoPTbr/ArgnKitchenFlow/ArgnKitchenFlow/src/app/produtos/novo/page.tsx"],c="/produtos/novo/page",p={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/produtos/novo/page",pathname:"/produtos/novo",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:u}})},38658:(e,r,t)=>{Promise.resolve().then(t.bind(t,38720))},90434:(e,r,t)=>{"use strict";t.d(r,{default:()=>o.a});var s=t(79404),o=t.n(s)},35047:(e,r,t)=>{"use strict";var s=t(77389);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},38720:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var s=t(10326),o=t(17577),a=t(35047),n=t(45484),i=t(91664),d=t(29752),u=t(41190),l=t(64296),c=t(90434);function p(){let e=(0,a.useRouter)(),[r,t]=(0,o.useState)(!1),[p,m]=(0,o.useState)({}),[x,g]=(0,o.useState)({}),[h,b]=(0,o.useState)([]),[j,v]=(0,o.useState)([]),[f,P]=(0,o.useState)({produto_id:"",descricao:"",grupo:"",subgrupo:"",custo:"",tipo:"insumo",agrupamento_id:""}),y=async r=>{r.preventDefault(),t(!0),m({});try{let r=new FormData;r.append("produto_id",f.produto_id),r.append("descricao",f.descricao),r.append("grupo",f.grupo),r.append("subgrupo",f.subgrupo),r.append("custo",f.custo),r.append("tipo",f.tipo),f.agrupamento_id&&r.append("agrupamento_id",f.agrupamento_id);let t=await (0,n.iu)(r);t.success?e.push("/produtos"):m({submit:t.error||"Erro ao criar produto"})}catch(e){console.error("Erro ao criar produto:",e),m({submit:"Erro inesperado ao criar produto"})}finally{t(!1)}},N=(e,r)=>{if(P(t=>({...t,[e]:r})),p[e]&&m(r=>({...r,[e]:""})),"subgrupo"===e&&r){let e=j.find(e=>e.subgrupo===r);e&&P(r=>({...r,agrupamento_id:e.id}))}};return s.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(i.z,{variant:"outline",asChild:!0,children:(0,s.jsxs)(c.default,{href:"/produtos",children:[s.jsx(l.Z,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),s.jsx("h1",{className:"text-3xl font-bold",children:"Novo Produto"})]}),s.jsx("form",{onSubmit:y,children:(0,s.jsxs)(d.Zb,{children:[s.jsx(d.Ol,{children:s.jsx(d.ll,{children:"Informa\xe7\xf5es do Produto"})}),(0,s.jsxs)(d.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"C\xf3digo do Produto *"}),s.jsx(u.I,{value:f.produto_id,readOnly:!0,disabled:!0,className:"bg-gray-50 cursor-not-allowed",placeholder:"PRO0001, INS0001 ou PP0001"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"C\xf3digo gerado automaticamente baseado no tipo"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo *"}),(0,s.jsxs)("select",{value:f.tipo,onChange:e=>N("tipo",e.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"insumo",children:"Insumo"}),s.jsx("option",{value:"produzido",children:"Produzido"}),s.jsx("option",{value:"produto",children:"Produto"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Grupo *"}),(0,s.jsxs)("select",{value:f.grupo,onChange:e=>N("grupo",e.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"",children:"Selecione um grupo"}),h.map(e=>s.jsx("option",{value:e,children:e},e))]}),p.grupo&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:p.grupo})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subgrupo *"}),(0,s.jsxs)("select",{value:f.subgrupo,onChange:e=>N("subgrupo",e.target.value),required:!0,disabled:!f.grupo,className:"w-full p-2 border border-gray-300 rounded-md disabled:bg-gray-50 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Selecione um subgrupo"}),j.map(e=>s.jsx("option",{value:e.subgrupo,children:e.subgrupo},e.id))]}),p.subgrupo&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:p.subgrupo})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descri\xe7\xe3o *"}),s.jsx(u.I,{value:f.descricao,onChange:e=>N("descricao",e.target.value),placeholder:"Ex: Arroz Branco 5kg",required:!0}),p.descricao&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:p.descricao})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Custo (R$) ",s.jsx("span",{className:"text-gray-500 font-normal",children:"(opcional)"})]}),s.jsx(u.I,{type:"number",step:"0.01",min:"0",value:f.custo,onChange:e=>N("custo",e.target.value),placeholder:"0.00"}),p.custo&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:p.custo})]}),p.submit&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-red-600 text-sm",children:p.submit})}),(0,s.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx(i.z,{type:"button",variant:"outline",asChild:!0,children:s.jsx(c.default,{href:"/produtos",children:"Cancelar"})}),s.jsx(i.z,{type:"submit",disabled:r,children:r?"Criando...":"Criar Produto"})]})]})]})})]})})}},4515:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});var s=t(68570);let o=(0,s.createProxy)(String.raw`/mnt/e/Projetos/EngenhariaContextoPTbr/ArgnKitchenFlow/ArgnKitchenFlow/src/app/produtos/novo/page.tsx`),{__esModule:a,$$typeof:n}=o;o.default;let i=(0,s.createProxy)(String.raw`/mnt/e/Projetos/EngenhariaContextoPTbr/ArgnKitchenFlow/ArgnKitchenFlow/src/app/produtos/novo/page.tsx#default`)}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[972,130,404,207,592,801,276],()=>t(5528));module.exports=s})();