(()=>{var e={};e.id=163,e.ids=[163],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},33137:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>x,tree:()=>l}),t(44401),t(32029),t(35866);var s=t(23191),o=t(88716),a=t(37922),i=t.n(a),n=t(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(r,d);let l=["",{children:["produtos",{children:["[id]",{children:["editar",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,44401)),"/mnt/e/Projetos/EngenhariaContextoPTbr/ArgnKitchenFlow/ArgnKitchenFlow/src/app/produtos/[id]/editar/page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,32029)),"/mnt/e/Projetos/EngenhariaContextoPTbr/ArgnKitchenFlow/ArgnKitchenFlow/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],u=["/mnt/e/Projetos/EngenhariaContextoPTbr/ArgnKitchenFlow/ArgnKitchenFlow/src/app/produtos/[id]/editar/page.tsx"],c="/produtos/[id]/editar/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/produtos/[id]/editar/page",pathname:"/produtos/[id]/editar",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},36856:(e,r,t)=>{Promise.resolve().then(t.bind(t,4984))},90434:(e,r,t)=>{"use strict";t.d(r,{default:()=>o.a});var s=t(79404),o=t.n(s)},35047:(e,r,t)=>{"use strict";var s=t(77389);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},4984:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var s=t(10326),o=t(17577),a=t(35047),i=t(45484),n=t(91664),d=t(29752),l=t(41190),u=t(64296),c=t(90434);function p({params:e}){let r=(0,a.useRouter)(),[t,p]=(0,o.useState)(!0),[x,m]=(0,o.useState)(!1),[h,g]=(0,o.useState)({}),[b,j]=(0,o.useState)(null),[v,f]=(0,o.useState)({}),[P,N]=(0,o.useState)([]),[y,_]=(0,o.useState)([]),[q,w]=(0,o.useState)({produto_id:"",descricao:"",grupo:"",subgrupo:"",custo:"",tipo:"insumo",agrupamento_id:""}),S=async t=>{t.preventDefault(),m(!0),g({});try{let t=new FormData;t.append("produto_id",q.produto_id),t.append("descricao",q.descricao),t.append("grupo",q.grupo),t.append("subgrupo",q.subgrupo),t.append("custo",q.custo),t.append("tipo",q.tipo),q.agrupamento_id&&t.append("agrupamento_id",q.agrupamento_id);let s=await (0,i.uU)(e.id,t);s.success?r.push("/produtos"):g({submit:s.error||"Erro ao atualizar produto"})}catch(e){console.error("Erro ao atualizar produto:",e),g({submit:"Erro inesperado ao atualizar produto"})}finally{m(!1)}},C=(e,r)=>{if(w(t=>({...t,[e]:r})),h[e]&&g(r=>({...r,[e]:""})),"subgrupo"===e&&r){let e=y.find(e=>e.subgrupo===r);e&&w(r=>({...r,agrupamento_id:e.id}))}"tipo"===e&&(w(e=>({...e,grupo:"",subgrupo:"",agrupamento_id:""})),_([])),"grupo"===e&&w(e=>({...e,subgrupo:"",agrupamento_id:""}))};return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):h.load?s.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto text-center",children:[s.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Erro"}),s.jsx("p",{className:"text-gray-600 mb-6",children:h.load}),s.jsx(n.z,{asChild:!0,children:s.jsx(c.default,{href:"/produtos",children:"Voltar para Produtos"})})]})}):s.jsx("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(n.z,{variant:"outline",asChild:!0,children:(0,s.jsxs)(c.default,{href:"/produtos",children:[s.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"Voltar"]})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Editar Produto"}),s.jsx("p",{className:"text-gray-600",children:b?.descricao})]})]}),s.jsx("form",{onSubmit:S,children:(0,s.jsxs)(d.Zb,{children:[s.jsx(d.Ol,{children:s.jsx(d.ll,{children:"Informa\xe7\xf5es do Produto"})}),(0,s.jsxs)(d.aY,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"C\xf3digo do Produto *"}),s.jsx(l.I,{value:q.produto_id,readOnly:!0,disabled:!0,className:"bg-gray-50 cursor-not-allowed",placeholder:"PRO0001, INS0001 ou PP0001"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"C\xf3digo n\xe3o pode ser alterado"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tipo *"}),(0,s.jsxs)("select",{value:q.tipo,onChange:e=>C("tipo",e.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"insumo",children:"Insumo"}),s.jsx("option",{value:"produzido",children:"Produzido"}),s.jsx("option",{value:"produto",children:"Produto"})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Grupo *"}),(0,s.jsxs)("select",{value:q.grupo,onChange:e=>C("grupo",e.target.value),required:!0,className:"w-full p-2 border border-gray-300 rounded-md",children:[s.jsx("option",{value:"",children:"Selecione um grupo"}),P.map(e=>s.jsx("option",{value:e,children:e},e))]}),h.grupo&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:h.grupo})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Subgrupo *"}),(0,s.jsxs)("select",{value:q.subgrupo,onChange:e=>C("subgrupo",e.target.value),required:!0,disabled:!q.grupo,className:"w-full p-2 border border-gray-300 rounded-md disabled:bg-gray-50 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Selecione um subgrupo"}),y.map(e=>s.jsx("option",{value:e.subgrupo,children:e.subgrupo},e.id))]}),h.subgrupo&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:h.subgrupo})]})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Descri\xe7\xe3o *"}),s.jsx(l.I,{value:q.descricao,onChange:e=>C("descricao",e.target.value),placeholder:"Ex: Arroz Branco 5kg",required:!0}),h.descricao&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:h.descricao})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-sm font-medium mb-1",children:["Custo (R$) ",s.jsx("span",{className:"text-gray-500 font-normal",children:"(opcional)"})]}),s.jsx(l.I,{type:"number",step:"0.01",min:"0",value:q.custo,onChange:e=>C("custo",e.target.value),placeholder:"0.00"}),h.custo&&s.jsx("p",{className:"text-red-600 text-sm mt-1",children:h.custo})]}),h.submit&&s.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-md",children:s.jsx("p",{className:"text-red-600 text-sm",children:h.submit})}),(0,s.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[s.jsx(n.z,{type:"button",variant:"outline",asChild:!0,children:s.jsx(c.default,{href:"/produtos",children:"Cancelar"})}),s.jsx(n.z,{type:"submit",disabled:x,children:x?"Salvando...":"Salvar Altera\xe7\xf5es"})]})]})]})})]})})}},44401:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>i,__esModule:()=>a,default:()=>n});var s=t(68570);let o=(0,s.createProxy)(String.raw`/mnt/e/Projetos/EngenhariaContextoPTbr/ArgnKitchenFlow/ArgnKitchenFlow/src/app/produtos/[id]/editar/page.tsx`),{__esModule:a,$$typeof:i}=o;o.default;let n=(0,s.createProxy)(String.raw`/mnt/e/Projetos/EngenhariaContextoPTbr/ArgnKitchenFlow/ArgnKitchenFlow/src/app/produtos/[id]/editar/page.tsx#default`)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[972,130,404,207,592,801,276],()=>t(33137));module.exports=s})();